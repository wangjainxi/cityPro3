{"remainingRequest":"/Users/apple/work/study/city33/cityPro3/node_modules/babel-loader/lib/index.js!/Users/apple/work/study/city33/cityPro3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/work/study/city33/cityPro3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/work/study/city33/cityPro3/src/views/PeopleManagement/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/work/study/city33/cityPro3/src/views/PeopleManagement/index.vue","mtime":1585368381011},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'UserManagement',\n  data: function data() {\n    return {\n      // 新增、修改弹层\n      dialogFormVisible: false,\n      // 所属机构\n      dialogHigthLevelSelect: false,\n      // // 弹框标题\n      dialogStatus: '',\n      textMap: {\n        update: '修改用户',\n        create: '新增用户'\n      },\n      // 页面数据\n      page: {\n        totalPage: null,\n        // 总页数\n        currentPage: null,\n        // 当前页数\n        pageSize: null // 每页显示个数\n\n      },\n      searchForm: {\n        username: '',\n        name: '',\n        role: ''\n      },\n      tableData: [{\n        checkbox: true,\n        sex: '男',\n        name: '监督员',\n        tel: 13911111111,\n        belongIns: '忻州经济技术开发区建设环境保护局'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '专门部门',\n        tel: 13911111111,\n        belongIns: '忻州经济技术开发区环卫队'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '值班长',\n        tel: 13911111111,\n        belongIns: '忻州经济技术开发区建设环境保护局'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '值班员',\n        tel: 13911111111,\n        belongIns: '忻州经济技术开发区建设环境保护局'\n      }, {\n        checkbox: true,\n        sex: '女',\n        name: '环卫刘丽',\n        tel: 13911111111,\n        belongIns: '忻州市市容环境卫生管理处'\n      }, {\n        checkbox: true,\n        sex: '女',\n        name: '刘美丽',\n        tel: 13911111111,\n        belongIns: '忻州市邮政局'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '城管局',\n        tel: 13911111111,\n        belongIns: '城管局'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '执法二大',\n        tel: 13911111111,\n        belongIns: '执法二大'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '执法三大大',\n        tel: 13911111111,\n        belongIns: '执法三大队'\n      }, {\n        checkbox: true,\n        sex: '男',\n        name: '值班员',\n        tel: 13911111111,\n        belongIns: '城管局'\n      }],\n      // 新增表单数据\n      temp: {\n        name: null,\n        sex: 1,\n        higthlevel: '',\n        email: 'xxx@xx.com',\n        userid: '',\n        tel: 13911111111,\n        imageUrl: '',\n        phone: '',\n        address: '',\n        postcod: '',\n        remark: '',\n        filter: ''\n      },\n      // 组织机构数据\n      OrganizationalChart: [{\n        name: '组织机构',\n        index: '1',\n        children: [{\n          name: '忻州经济技术建设环境保护...',\n          children: '',\n          index: '1-1'\n        }, {\n          name: '忻州经济技术环卫队...',\n          children: '',\n          index: '1-2'\n        }, {\n          index: '1-3',\n          name: '忻州经济技术综合监察大队、开发区...',\n          children: [{\n            name: '孩子1',\n            index: '1-3-1'\n          }, {\n            name: '孩子2',\n            index: '1-3-2'\n          }]\n        }, {\n          name: '市建设局总办',\n          children: '',\n          index: '1-4'\n        }, {\n          name: '建管科',\n          children: '',\n          index: '1-5'\n        }, {\n          name: '安全站',\n          index: '1-6',\n          children: [{\n            name: '孩子1',\n            index: '1-6-1'\n          }, {\n            name: '孩子2',\n            index: '1-6-2'\n          }]\n        }, {\n          name: '招标局',\n          children: '',\n          index: '1-7'\n        }, {\n          name: '工程质量监督站...',\n          children: '',\n          index: '1-8'\n        }, {\n          name: '市城建监察支队',\n          children: '',\n          index: '1-9'\n        }, {\n          name: '市人民公园',\n          children: '',\n          index: '1-10'\n        }]\n      }],\n      // 属性\n      defaultProps: {\n        children: 'children',\n        label: 'name'\n      },\n      // 选中的上级单位index\n      activeIndex: 1,\n      fileList: []\n    };\n  },\n  methods: {\n    searchInt: function searchInt() {\n      var _this$searchForm = this.searchForm,\n          username = _this$searchForm.username,\n          name = _this$searchForm.name;\n      var searchtable = this.tableData.filter(function (item) {\n        if (item.username === username || item.name === name) {\n          return item;\n        }\n      });\n      this.tableData = searchtable;\n    },\n    // 新增用户\n    addUser: function addUser() {\n      this.dialogStatus = 'create';\n      this.dialogFormVisible = true; // alert('用户新增')\n    },\n    // 修改用户\n    updateUser: function updateUser() {\n      this.dialogStatus = 'update';\n      this.dialogFormVisible = true;\n    },\n    // 点击选择上级单位\n    selectHigthLevel: function selectHigthLevel() {\n      this.dialogHigthLevelSelect = true;\n    },\n    // 上传图片\n    // handleAvatarSuccess(res, file) {\n    //   this.temp.imageUrl = URL.createObjectURL(file.raw)\n    //   // console.log(this.temp.imageUrl)\n    // },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      console.log(file);\n      var isJPG = file.type === 'image/jpeg' || 'image/png';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG/jpeg 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    },\n    // 取消修改或新增\n    cancelInstitution: function cancelInstitution() {\n      this.dialogFormVisible = false;\n      this.temp = {\n        username: null,\n        name: null,\n        password: null,\n        useroll: [],\n        PAD: null,\n        sex: 1,\n        higthlevel: '',\n        email: 'xxx@xx.com',\n        userid: '',\n        tel: 13911111111,\n        imageUrl: '',\n        phone: '',\n        address: '',\n        postcod: '',\n        remark: '',\n        filter: ''\n      };\n    },\n    // 点击修改或新增的确定\n    addInstitution: function addInstitution() {\n      if (this.dialogStatus === 'create') {\n        // 新增\n        var _this$temp = this.temp,\n            username = _this$temp.username,\n            name = _this$temp.name,\n            role = _this$temp.role,\n            PDA = _this$temp.PDA;\n        console.log(PDA);\n        var newData = {\n          checkbox: true,\n          username: username,\n          name: name,\n          role: role,\n          PDA: PDA,\n          status: true\n        };\n        this.tableData.unshift(newData);\n      }\n\n      this.dialogFormVisible = false;\n    },\n    handleNodeClick: function handleNodeClick(data) {\n      // console.log(data)\n      this.temp.higthlevel = data.name;\n    },\n    handleChange: function handleChange(file, fileList) {\n      // console.log(file)\n      if (file) {\n        if (this.beforeAvatarUpload(file)) {\n          this.fileList = fileList.slice(-1);\n          this.temp.imageUrl = URL.createObjectURL(file.raw);\n        }\n      }\n    }\n  }\n};\nexports.default = _default;",null]}