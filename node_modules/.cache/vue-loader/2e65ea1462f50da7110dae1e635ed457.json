{"remainingRequest":"/Users/apple/work/study/city33/cityPro3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/work/study/city33/cityPro3/src/views/MenuManagement/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/work/study/city33/cityPro3/src/views/MenuManagement/index.vue","mtime":1585368381010},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/work/study/city33/cityPro3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      // 查询数据\n      searchForm: {\n        id: '',\n        name: ''\n      },\n      // 新增、修改弹层\n      dialogFormVisible: false,\n\n      // // 弹框标题\n      dialogStatus: '',\n      textMap: {\n        update: '修改菜单',\n        create: '新增菜单'\n      },\n      // 表格数据\n      tableData: [\n        {\n          checkbox: true,\n          id: 'admin',\n          name: '构建维护',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'departmentadmin',\n          name: '机构管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'groupadmin',\n          name: '角色管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'personAdmin',\n          name: '人员管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'userAdmin',\n          name: '用户管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'MsgUserGroup',\n          name: '用户分组',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'menuAdmin',\n          name: '菜单管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'archiveAdmin',\n          name: '案件管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'archivetype',\n          name: '案件类型',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        },\n        {\n          checkbox: true,\n          id: 'menu——videolook',\n          name: '视频组管理',\n          father: 'admin',\n          menulink: 'wwwwwwwwwwww',\n          imglink: ''\n        }\n      ],\n      // 新增弹框数据\n      temp: {\n        name: '',\n        sort: '',\n        menulink: '',\n        imglink: '',\n        father: ''\n      },\n      // 加载状态\n      loading: false,\n      updateindex: 0\n    }\n  },\n  methods: {\n    addMeun() {\n      this.dialogStatus = 'create'\n      this.dialogFormVisible = true\n      // alert('用户新增')\n    },\n    updateMenu(item, index) {\n      console.log(index)\n      this.updateindex = index\n      this.dialogStatus = 'update'\n      this.dialogFormVisible = true\n      // alert('用户新增')\n      this.temp = {\n        name: item.name,\n        sort: index + 1,\n        menulink: item.menulink,\n        imglink: item.imglink,\n        father: item.father\n      }\n    },\n    beforeUpload(file) {\n      console.log(file)\n\n      alert(1)\n      this.loading = true\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'\n      const isLt2M = file.size / 1024 / 1024 < 2\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!')\n        this.loading = false\n        return\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n        this.loading = false\n        return\n      }\n      return isJPG && isLt2M\n    },\n    // 上传图片\n    uploading(response, file, fileList) {\n      console.log(file, fileList)\n      this.temp.imglink = file.name\n      this.loading = false\n    },\n    // searchInt 查询方法\n    searchInt() {\n      const { id, name } = this.searchForm\n      const searchtable = this.tableData.filter(item => {\n        if (item.id === id || item.name === name) {\n          return item\n        }\n      })\n      this.tableData = searchtable\n    },\n    // 弹层确定\n    add() {\n      const { name, menulink, imglink, father } = this.temp\n      const newdata = {\n        checkbox: true,\n        id: this.tableData[this.updateindex].id || 'newdata',\n        name,\n        father,\n        menulink,\n        imglink\n      }\n\n      if (this.dialogStatus === 'create') {\n        this.tableData.unshift(newdata)\n        this.temp = {\n          name: '',\n          sort: '',\n          menulink: '',\n          imglink: '',\n          higherMenu: ''\n        }\n      } else {\n        this.tableData.splice(this.updateindex, 1, newdata)\n      }\n      this.$nextTick(() => {\n        this.dialogFormVisible = false\n      })\n    },\n    cancel() {\n      this.dialogFormVisible = false\n      this.temp = {\n        name: '',\n        sort: '',\n        menulink: '',\n        imglink: '',\n        higherMenu: ''\n      }\n    }\n  }\n}\n",null]}